var __decorate=this&&this.__decorate||function(e,t,n,i){var o,s=arguments.length,r=3>s?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(3>s?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0};System.register("utils/debounce",[],function(e,t){"use strict";function n(e,t,n){var i,o,s,r,a;return function(){s=this,o=arguments,r=new Date;var c=function(){var l=new Date-r;t>l?i=setTimeout(c,t-l):(i=null,n||(a=e.apply(s,o)))},l=n&&!i;return i||(i=setTimeout(c,t)),l&&(a=e.apply(s,o)),a}}function i(e,t){return function(i,o,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,o,{configurable:!0,enumerable:s.enumerable,value:n(s.value,e,t)}),this[o]}}}}t&&t.id;return e("debounce",n),e("debounceable",i),{setters:[],execute:function(){}}}),System.register("utils/column",[],function(e,t){"use strict";function n(e){var t={left:[],center:[],right:[]};if(e)for(var n=0,i=e.length;i>n;n++){var o=e[n];o.frozenLeft?t.left.push(o):o.frozenRight?t.right.push(o):t.center.push(o)}return t}function i(e,t){return{left:o(e.left),center:o(e.center),right:o(e.right),total:o(t)}}function o(e,t){var n=0;if(e)for(var i=0,o=e.length;o>i;i++){var s=e[i],r=t&&s[t];n+=r?s[t]:s.width}return n}t&&t.id;return e("columnsByPin",n),e("columnGroupWidths",i),e("columnTotalWidth",o),{setters:[],execute:function(){}}}),System.register("utils/scrollbarWidth",[],function(e,t){"use strict";function n(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i}t&&t.id;return e("scrollbarWidth",n),{setters:[],execute:function(){}}}),System.register("models/SortDirection",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){!function(e){e[e.asc=0]="asc",e[e.desc=1]="desc"}(n||(n={})),e("SortDirection",n)}}}),System.register("models/Sort",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){n=function(){function e(e){Object.assign(this,e)}return e}(),e("Sort",n)}}}),System.register("models/SortType",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){!function(e){e[e.single=0]="single",e[e.multi=1]="multi"}(n||(n={})),e("SortType",n)}}}),System.register("utils/sort",["models/SortType","models/SortDirection"],function(e,t){"use strict";function n(e,t){return e===s.SortType.single?t===r.SortDirection.asc?r.SortDirection.desc:r.SortDirection.asc:t?t===r.SortDirection.asc?r.SortDirection.desc:void(currentSort===r.SortDirection.desc):r.SortDirection.asc}function i(e,t){if(null!==e&&"undefined"!=typeof e||(e=0),null!==t&&"undefined"!=typeof t||(t=0),isNaN(parseFloat(e))||!isFinite(e)||isNaN(parseFloat(t))||!isFinite(t)){if(e.toLowerCase()<t.toLowerCase())return-1;if(e.toLowerCase()>t.toLowerCase())return 1}else{if(parseFloat(e)<parseFloat(t))return-1;if(parseFloat(e)>parseFloat(t))return 1}return 0}function o(e,t){var n=e.slice();return n.sort(function(e,n){for(var o=0,s=t;o<s.length;o++){var a=s[o],c=a.prop,l=a.dir,d=l!==r.SortDirection.desc?i(e[c],n[c]):-i(e[c],n[c]);if(0!==d)return d}return 0})}var s,r;t&&t.id;return e("nextSortDir",n),e("orderByComparator",i),e("sortRows",o),{setters:[function(e){s=e},function(e){r=e}],execute:function(){}}}),System.register("utils/id",[],function(e,t){"use strict";function n(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}t&&t.id;return e("id",n),{setters:[],execute:function(){}}}),System.register("utils/camelCase",[],function(e,t){"use strict";function n(e){return e=e.replace(/[^a-zA-Z0-9 ]/g," "),e=e.replace(/([a-z](?=[A-Z]))/g,"$1 "),e=e.replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase(),e=e.replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,n){return t.trim()+n.toUpperCase()})}t&&t.id;return e("camelCase",n),{setters:[],execute:function(){}}}),System.register("models/TableColumn",["utils/id","utils/camelCase"],function(e,t){"use strict";var n,i,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e}],execute:function(){o=function(){function e(e){this.$id=n.id(),this.frozenLeft=!1,this.frozenRight=!1,this.flexGrow=0,this.minWidth=100,this.maxWidth=void 0,this.width=150,this.resizable=!0,this.comparator=void 0,this.sortable=!0,this.draggable=!0,this.canAutoResize=!0,Object.assign(this,e),!this.prop&&this.name&&(this.prop=i.camelCase(this.name))}return e}(),e("TableColumn",o)}}}),System.register("models/ColumnMode",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){!function(e){e[e.standard=0]="standard",e[e.flex=1]="flex",e[e.force=2]="force"}(n||(n={})),e("ColumnMode",n)}}}),System.register("models/SelectionType",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){!function(e){e[e.single=0]="single",e[e.multi=1]="multi",e[e.multiShift=2]="multiShift"}(n||(n={})),e("SelectionType",n)}}}),System.register("models/TableOptions",["models/ColumnMode","models/SortType"],function(e,t){"use strict";var n,i,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e}],execute:function(){o=function(){function e(e){this.scrollbarV=!0,this.scrollbarH=!0,this.rowHeight=30,this.columnMode=n.ColumnMode.standard,this.loadingMessage="Loading...",this.emptyMessage="No data to display",this.headerHeight=30,this.footerHeight=0,this.externalPaging=!1,this.limit=void 0,this.count=0,this.offset=0,this.loadingIndicator=!1,this.reorderable=!0,this.sortType=i.SortType.single,this.sorts=[],Object.assign(this,e)}return e}(),e("TableOptions",o)}}}),System.register("services/State",["@angular/core","utils/column","utils/scrollbarWidth","utils/sort","models/Sort","models/SortType"],function(e,t){"use strict";var n,i,o,s,r,a,c;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){o=e},function(e){s=e},function(e){r=e},function(e){a=e}],execute:function(){c=function(){function e(){this.onRowsUpdate=new n.EventEmitter,this.onPageChange=new n.EventEmitter,this.scrollbarWidth=o.scrollbarWidth(),this.offsetX=0,this.offsetY=0,this.innerWidth=0,this.bodyHeight=300}return Object.defineProperty(e.prototype,"columnsByPin",{get:function(){return i.columnsByPin(this.options.columns)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnGroupWidths",{get:function(){return i.columnGroupWidths(this.columnsByPin,this.options.columns)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this.options.externalPaging?this.options.count:this.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this.options.scrollbarV?Math.ceil(this.bodyHeight/this.options.rowHeight)+1:this.options.limit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indexes",{get:function(){var e=0,t=0;return this.options.scrollbarV?(e=Math.max(Math.floor((this.offsetY||0)/this.options.rowHeight,0),0),t=Math.min(e+this.pageSize,this.pageCount)):(e=Math.max(this.options.offset*this.options.limit,0),t=Math.min(e+this.pageSize,this.pageCount)),{first:e,last:t}},enumerable:!0,configurable:!0}),e.prototype.setSelected=function(e){return this.selected=e,this},e.prototype.setRows=function(e){return this.rows=e.slice(),this.onRowsUpdate.emit(e),this},e.prototype.setOptions=function(e){return this.options=e,this},e.prototype.setPage=function(e){this.options.offset=e-1,this.onPageChange.emit({offset:this.options.offset,limit:this.pageSize,pageCount:this.pageCount})},e.prototype.nextSort=function(e){var t=this.options.sorts.findIndex(function(t){return t.prop===e.prop}),n=this.options.sorts[t],i=void 0;n&&(i=n.dir);var o=s.nextSortDir(this.options.sortType,i);void 0===o?this.options.sorts.splice(t,1):n?this.options.sorts[t].dir=o:(this.options.sortType===a.SortType.single&&this.options.sorts.splice(0,this.options.sorts.length),this.options.sorts.push(new r.Sort({dir:o,prop:e.prop}))),e.comparator?e.comparator(this.rows,this.options.sorts):this.setRows(s.sortRows(this.rows,this.options.sorts))},e=__decorate([n.Injectable(),__metadata("design:paramtypes",[])],e)}(),e("StateService",c)}}}),System.register("utils/VisibilityObserver",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){n=function(){function e(e,t){this.callback=t,window.IntersectionObserver?(this.observer=new IntersectionObserver(this.processChanges.bind(this),{threshold:[.5]}),this.observer.observe(e)):this.runPolyfill(e)}return e.prototype.runPolyfill=function(e){var t=this,n=function(){var i=e.getBoundingClientRect(),o=i.width,s=i.height;o&&s?t.callback&&t.callback():setTimeout(function(){return n()},10)};n()},e.prototype.isVisible=function(e,t){return t.width*t.height/(e.width*e.height)>=.5},e.prototype.visibleTimerCallback=function(e,t){delete e.visibleTimeout,this.processChanges(t.takeRecords()),"isVisible"in e&&(delete e.isVisible,this.callback&&this.callback(),t.unobserve(e))},e.prototype.processChanges=function(e){var t=this;e.forEach(function(e){var n=e.target;n.isVisible=t.isVisible(e.boundingClientRect,e.intersectionRect),"isVisible"in n?n.visibleTimeout=setTimeout(t.visibleTimerCallback.bind(t),1e3,n,t.observer):"visibleTimeout"in n&&(clearTimeout(n.visibleTimeout),delete n.visibleTimeout)})},e}(),e("VisibilityObserver",n)}}}),System.register("directives/Visibility",["@angular/core","utils/VisibilityObserver"],function(e,t){"use strict";var n,i,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e}],execute:function(){o=function(){function e(e){this.visible=!1,this.onVisibilityChange=new n.EventEmitter,new i.VisibilityObserver(e.nativeElement,this.visbilityChange.bind(this))}return e.prototype.visbilityChange=function(){this.visible=!0,this.onVisibilityChange.emit(!0)},__decorate([n.HostBinding("class.visible"),__metadata("design:type",Object)],e.prototype,"visible",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onVisibilityChange",void 0),e=__decorate([n.Directive({selector:"[visibility-observer]"}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("Visibility",o)}}}),System.register("utils/math",["utils/column"],function(e,t){"use strict";function n(e,t){for(var n=0,i=0,o=allColumns;i<o.length;i++){var s=o[i],r=t&&s[t];n+=r?s[t]:s.width}return n}function i(e){for(var t=0,n=0,i=e;n<i.length;n++){var o=i[n];t+=o.flexGrow||0}return t}function o(e,t){var o=n(e),r=i(e),c=a.columnsByPin(e);o!==t&&s(c,t,r)}function s(e,t,n){for(var i in e)for(var o=0,s=e[i];o<s.length;o++){var r=s[o];r.canAutoResize?r.width=0:(t-=r.width,n-=r.flexGrow)}var a={},c=t;do{var l=c/n;c=0;for(var i in e)for(var d=0,u=e[i];d<u.length;d++){var r=u[d];if(r.canAutoResize&&!a[r.prop]){var p=r.width+r.flexGrow*l;void 0!==r.minWidth&&p<r.minWidth?(c+=p-r.minWidth,r.width=r.minWidth,a[r.prop]=!0):r.width=p}}}while(0!==c)}function r(e,t,n){for(var i=0,o=n>-1?e.slice(n,e.length).filter(function(e){return e.canAutoResize}):e.filter(function(e){return e.canAutoResize}),s=0,r=e;s<r.length;s++){var a=r[s];i+=a.canAutoResize?a.$$oldWidth||a.width:a.width}for(var c=t-i,l=c/o.length,d=i>t,u=0,p=o;u<p.length;u++){var a=p[u];if(d)a.width=a.$$oldWidth||a.width;else{a.$$oldWidth||(a.$$oldWidth=a.width);var f=a.$$oldWidth+l;a.minWith&&f<a.minWidth?a.width=a.minWidth:a.maxWidth&&f>a.maxWidth?a.width=a.maxWidth:a.width=f}}}var a;t&&t.id;return e("columnTotalWidth",n),e("getTotalFlexGrow",i),e("adjustColumnWidths",o),e("forceFillColumnWidths",r),{setters:[function(e){a=e}],execute:function(){}}}),System.register("directives/LongPress",["@angular/core"],function(e,t){"use strict";var n,i;t&&t.id;return{setters:[function(e){n=e}],execute:function(){i=function(){function e(){this.duration=500,this.onLongPress=new n.EventEmitter,this.onLongPressing=new n.EventEmitter,this.onLongPressEnd=new n.EventEmitter}return Object.defineProperty(e.prototype,"press",{get:function(){return this._pressing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longPress",{get:function(){return this._longPressing},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){var t=this;this._pressing=!0,this._longPressing=!1,this._timeout=setTimeout(function(){t._longPressing=!0,t.onLongPress.emit(e),t._interval=setInterval(function(){t.onLongPressing.emit(e)},50)},this.duration)},e.prototype.endPress=function(){clearTimeout(this._timeout),clearInterval(this._interval),this._longPressing=!1,this._pressing=!1,this.onLongPressEnd.emit()},__decorate([n.Input(),__metadata("design:type",Number)],e.prototype,"duration",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onLongPress",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onLongPressing",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onLongPressEnd",void 0),__decorate([n.HostBinding("class.press"),__metadata("design:type",Object)],e.prototype,"press",null),__decorate([n.HostBinding("class.longpress"),__metadata("design:type",Object)],e.prototype,"longPress",null),__decorate([n.HostListener("mousedown",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onMouseDown",null),__decorate([n.HostListener("mouseup"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"endPress",null),e=__decorate([n.Directive({selector:"[long-press]"}),__metadata("design:paramtypes",[])],e)}(),e("LongPress",i)}}}),System.register("directives/Draggable",["@angular/core","rxjs"],function(e,t){"use strict";var n,i,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e}],execute:function(){o=function(){function e(e){this.dragX=!0,this.dragY=!0,this.onDragStart=new n.EventEmitter,this.onDragging=new n.EventEmitter,this.onDragEnd=new n.EventEmitter,this.dragging=!1,this.element=e.nativeElement}return e.prototype.onMouseup=function(e){this.dragging=!1,this.subscription&&(this.subscription.unsubscribe(),this.onDragEnd.emit({event:e,element:this.element,model:this.model}))},e.prototype.onMousedown=function(e){var t=this;if(e.target.classList.contains("draggable")){e.preventDefault(),this.dragging=!0;var n={x:e.clientX,y:e.clientY};this.subscription=i.Observable.fromEvent(document,"mousemove").subscribe(function(e){return t.move(e,n)}),this.onDragStart.emit({event:e,element:this.element,model:this.model})}},e.prototype.move=function(e,t){if(this.dragging){var n=e.clientX-t.x,i=e.clientY-t.y;this.dragX&&(this.element.style.left=n+"px"),this.dragY&&(this.element.style.top=i+"px"),(this.dragX||this.dragY)&&this.onDragging.emit({event:e,element:this.element,model:this.model})}},__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"model",void 0),__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"dragX",void 0),__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"dragY",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onDragStart",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onDragging",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onDragEnd",void 0),__decorate([n.HostListener("document:mouseup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onMouseup",null),__decorate([n.HostListener("mousedown",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onMousedown",null),e=__decorate([n.Directive({selector:"[draggable]"}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("Draggable",o)}}}),System.register("directives/Resizable",["@angular/core","rxjs"],function(e,t){"use strict";var n,i,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e}],execute:function(){o=function(){function e(e){if(this.resizeEnabled=!0,this.onResize=new n.EventEmitter,this.prevScreenX=0,this.resizing=!1,this.element=e.nativeElement,this.resizeEnabled){var t=document.createElement("span");t.classList.add("resize-handle"),this.element.appendChild(t)}}return e.prototype.onMouseup=function(e){this.resizing=!1,this.subcription&&(this.subcription.unsubscribe(),this.onResize.emit(this.element.clientWidth))},e.prototype.onMousedown=function(e){var t=this,n=e.target.classList.contains("resize-handle");n&&(e.stopPropagation(),this.resizing=!0,this.subcription=i.Observable.fromEvent(document,"mousemove").subscribe(function(e){return t.move(e)}))},e.prototype.move=function(e){var t=e.movementX||e.mozMovementX||e.screenX-this.prevScreenX,n=this.element.clientWidth,i=n+(t||0);this.prevScreenX=e.screenX;var o=!this.minWidth||i>=this.minWidth,s=!this.maxWidth||i<=this.maxWidth;o&&s&&(this.element.style.width=i+"px")},__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"resizeEnabled",void 0),__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"minWidth",void 0),__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"maxWidth",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onResize",void 0),__decorate([n.HostListener("document:mouseup",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onMouseup",null),__decorate([n.HostListener("mousedown",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onMousedown",null),e=__decorate([n.Directive({selector:"[resizable]",host:{"[class.resizable]":"resizeEnabled"}}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("Resizable",o)}}}),System.register("directives/Orderable",["@angular/core","directives/Draggable"],function(e,t){"use strict";var n,i,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e}],execute:function(){o=function(){function e(){this.onReorder=new n.EventEmitter}return e.prototype.ngAfterContentInit=function(){var e=this;this.drags.forEach(function(t){return t.onDragStart.subscribe(e.onDragStart.bind(e))&&t.onDragEnd.subscribe(e.onDragEnd.bind(e))})},e.prototype.onDragStart=function(){this.positions={};for(var e=0,t=0,n=this.drags.toArray();t<n.length;t++){var i=n[t],o=i.element;this.positions[i.model.prop]={left:parseInt(o.offsetLeft),index:e++}}},e.prototype.onDragEnd=function(e){var t=e.element,n=e.model,i=parseInt(t.offsetLeft),o=this.positions[n.prop],s=0;for(var r in this.positions){var a=this.positions[r],c=i<a.left&&o.left>a.left,l=i>a.left&&o.left<a.left;(c||l)&&this.onReorder.emit({prevIndex:o.index,newIndex:s,model:n}),s++}t.style.left="auto"},__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onReorder",void 0),__decorate([n.ContentChildren(i.Draggable),__metadata("design:type",Object)],e.prototype,"drags",void 0),e=__decorate([n.Directive({selector:"[orderable]"}),__metadata("design:paramtypes",[])],e)}(),e("Orderable",o)}}}),System.register("components/header/HeaderCell",["@angular/core","services/State","models/TableColumn","models/SortDirection"],function(e,t){"use strict";var n,i,o,s,r;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){o=e},function(e){s=e}],execute:function(){r=function(){function e(e,t){this.element=e,this.state=t,e.nativeElement.classList.add("datatable-header-cell")}return Object.defineProperty(e.prototype,"sortDir",{get:function(){var e=this,t=this.state.options.sorts.find(function(t){return t.prop===e.model.prop});return t?t.dir:void 0},enumerable:!0,configurable:!0}),e.prototype.sortClasses=function(e){var t=this.sortDir;return{"sort-asc icon-down":t===s.SortDirection.asc,"sort-desc icon-up":t===s.SortDirection.desc}},e.prototype.onSort=function(){this.model.sortable&&this.state.nextSort(this.model)},__decorate([n.Input(),__metadata("design:type",o.TableColumn)],e.prototype,"model",void 0),e=__decorate([n.Component({selector:"datatable-header-cell",template:'\n  	<div>\n      <span\n        class="datatable-header-cell-label draggable"\n        (click)="onSort()"\n        [innerHTML]="model.name">\n      </span>\n      <span\n        class="sort-btn"\n        [ngClass]="sortClasses()">\n      </span>\n    </div>\n  ',directives:[],host:{"[class.sortable]":"model.sortable","[class.resizable]":"model.resizable","[style.width]":"model.width","[style.minWidth]":"model.minWidth","[style.maxWidth]":"model.maxWidth","[style.height]":"model.height","[attr.title]":"model.name"}}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object,i.StateService])],e);var t}(),e("DataTableHeaderCell",r)}}}),System.register("components/header/Header",["@angular/core","services/State","directives/LongPress","directives/Draggable","directives/Resizable","directives/Orderable","components/header/HeaderCell"],function(e,t){"use strict";var n,i,o,s,r,a,c,l;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){o=e},function(e){s=e},function(e){r=e},function(e){a=e},function(e){c=e}],execute:function(){l=function(){function e(e,t){this.state=e,t.nativeElement.classList.add("datatable-header")}return e.prototype.columnResized=function(e,t){t.width=e},e.prototype.columnReordered=function(e){var t=e.prevIndex,n=e.newIndex,i=e.model;this.state.options.columns.splice(t,1),this.state.options.columns.splice(n,0,i)},e=__decorate([n.Component({selector:"datatable-header",template:'\n  	<div\n      [style.width]="state.columnGroupWidths.total"\n      class="datatable-header-inner"\n      orderable\n      (onReorder)="columnReordered($event)">\n      <div\n        class="datatable-row-left">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.left"\n          resizable\n          [resizeEnabled]="column.resizable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="draggable = true"\n          (onLongPressEnd)="draggable = false"\n          draggable\n          [dragX]="column.draggable && draggable"\n          [dragY]="false"\n          [model]="column">\n        </datatable-header-cell>\n      </div>\n      <div\n        class="datatable-row-center">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.center"\n          resizable\n          [resizeEnabled]="column.resizable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="draggable = true"\n          (onLongPressEnd)="draggable = false"\n          draggable\n          [dragX]="column.draggable && draggable"\n          [dragY]="false"\n          [model]="column">\n        </datatable-header-cell>\n      </div>\n      <div\n        class="datatable-row-right">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.right"\n          resizable\n          [resizeEnabled]="column.resizable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="draggable = true"\n          (onLongPressEnd)="draggable = false"\n          draggable\n          [dragX]="column.draggable && draggable"\n          [dragY]="false"\n          [model]="column">\n        </datatable-header-cell>\n      </div>\n    </div>\n  ',directives:[c.DataTableHeaderCell,s.Draggable,r.Resizable,a.Orderable,o.LongPress],host:{"[style.width]":"state.innerWidth","[style.height]":"state.options.headerHeight"}}),__metadata("design:paramtypes",[i.StateService,"function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("DataTableHeader",l)}}}),System.register("components/body/ProgressBar",["@angular/core"],function(e,t){"use strict";var n,i;t&&t.id;return{setters:[function(e){n=e}],execute:function(){i=function(){function e(){}return e=__decorate([n.Component({selector:"datatable-progress",template:'\n    <div\n      class="progress-linear"\n      role="progressbar">\n      <div class="container">\n        <div class="bar"></div>\n      </div>\n    </div>\n  ',directives:[]}),__metadata("design:paramtypes",[])],e)}(),e("ProgressBar",i)}}}),System.register("utils/deepGetter",[],function(e,t){"use strict";function n(e,t){if(!e||!t)return e;var n=e,i=t.split(".");if(i.length)for(var o=0,s=i.length;s>o;o++)n=n[i[o]];return n}t&&t.id;return e("deepValueGetter",n),{setters:[],execute:function(){}}}),System.register("components/body/BodyCell",["@angular/core","utils/deepGetter"],function(e,t){"use strict";var n,i,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e}],execute:function(){o=function(){function e(e){e.nativeElement.classList.add("datatable-body-cell")}return Object.defineProperty(e.prototype,"rowValue",{get:function(){return this.row?i.deepValueGetter(this.row,this.column.prop):""},enumerable:!0,configurable:!0}),__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"column",void 0),__decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"row",void 0),e=__decorate([n.Component({selector:"datatable-body-cell",template:'\n  	<div class="datatable-body-cell-label">\n      <span [innerHTML]="rowValue"></span>\n    </div>\n  ',directives:[],host:{"[style.width]":"column.width","[style.height]":"column.height"}}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("DataTableBodyCell",o)}}}),System.register("components/body/BodyRow",["@angular/core","services/State","components/body/BodyCell"],function(e,t){"use strict";var n,i,o,s;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){o=e}],execute:function(){s=function(){function e(e,t){this.state=e,t.nativeElement.classList.add("datatable-body-row")}return __decorate([n.Input(),__metadata("design:type",Object)],e.prototype,"row",void 0),e=__decorate([n.Component({selector:"datatable-body-row",template:'\n  	<div>\n      <div class="datatable-row-left">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.left"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n      <div class="datatable-row-center">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.center"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n      <div class="datatable-row-right">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.right"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n    </div>\n  ',directives:[o.DataTableBodyCell]}),__metadata("design:paramtypes",[i.StateService,"function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("DataTableBodyRow",s)}}}),System.register("components/body/Scroll",["@angular/core"],function(e,t){"use strict";var n,i;t&&t.id;return{setters:[function(e){n=e}],execute:function(){i=function(){function e(e){e.nativeElement.classList.add("datatable-scroll")}return __decorate([n.Input(),__metadata("design:type",Number)],e.prototype,"rowHeight",void 0),__decorate([n.Input(),__metadata("design:type",Number)],e.prototype,"count",void 0),__decorate([n.Input(),__metadata("design:type",Number)],e.prototype,"scrollWidth",void 0),e=__decorate([n.Component({selector:"datatable-scroll",template:"\n    <ng-content></ng-content>\n  ",host:{"[style.height]":"count * rowHeight","[style.width]":"scrollWidth"}}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("DataTableScroll",i)}}}),System.register("utils/keys",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){!function(e){e[e.up=38]="up",e[e.down=40]="down",e[e.return=13]="return",e[e.escape=27]="escape"}(n||(n={})),e("Keys",n)}}}),System.register("utils/selection",[],function(e,t){"use strict";function n(e,t){var n=e.indexOf(t);return n>-1?e.splice(n,1):e.push(t),e}function i(e,t,n,i){for(var o=i>n,s=0,r=t.length;r>s;s++){var a=t[s],c=s>=i&&n>=s,l=i>=s&&s>=n,d={};if(d=o?{start:n,end:i-n}:{start:i,end:n+1},o&&l||!o&&c){var u=e.indexOf(a);if(o&&u>-1){e.splice(u,1);continue}s>=d.start&&s<d.end&&-1===u&&e.push(a)}}return e}t&&t.id;return e("selectRows",n),e("selectRowsBetween",i),{setters:[],execute:function(){}}}),System.register("components/body/Body",["@angular/core","components/body/ProgressBar","components/body/BodyRow","components/body/Scroll","services/State","models/SelectionType","utils/keys","utils/selection"],function(e,t){"use strict";var n,i,o,s,r,a,c,l,d;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){o=e},function(e){s=e},function(e){r=e},function(e){a=e},function(e){c=e},function(e){l=e}],execute:function(){d=function(){function e(e,t){this.state=e,this.onRowClick=new n.EventEmitter,this.onRowSelect=new n.EventEmitter,this.showProgress=!0,t.nativeElement.classList.add("datatable-body")}return Object.defineProperty(e.prototype,"selectEnabled",{get:function(){return void 0!==this.state.options.selectionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bodyHeight",{get:function(){return this.state.options.scrollbarV?this.state.bodyHeight:"auto"},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.rows=this.state.rows.slice(),this.state.onPageChange.subscribe(function(t){var n=e.state.indexes,i=n.first,o=n.last;e.rows=e.state.rows.slice(i,o),setTimeout(function(){return e.showProgress=!1},500)}),this.state.onRowsUpdate.subscribe(function(t){var n=e.state.indexes,i=n.first,o=n.last;e.rows=t.slice(i,o),setTimeout(function(){return e.showProgress=!1},500)})},e.prototype.rowClicked=function(e,t,n){this.onRowClick.emit({event:e,row:n}),this.selectRow(e,t,n)},e.prototype.rowKeydown=function(e,t,n){if(e.keyCode===c.Keys.return&&this.selectEnabled)this.selectRow(e,t,n);else if(e.keyCode===c.Keys.up||e.keyCode===c.Keys.down){var i=e.keyCode===c.Keys.up?e.target.previousElementSibling:e.target.nextElementSibling;i&&i.focus()}},e.prototype.selectRow=function(e,t,n){if(this.selectEnabled){var i=this.state.options.selectionType===a.SelectionType.multiShift,o=this.state.options.selectionType===a.SelectionType.multi,s=[];if(i||o)if(i&&e.shiftKey){var r=this.state.selected.slice();s=l.selectRowsBetween(r,this.rows,t,this.prevIndex)}else if(i&&!e.shiftKey)s.push(n);else{var r=this.state.selected.slice();s=l.selectRows(r,n)}else s.push(n);this.prevIndex=t,this.onRowSelect.emit(s)}},__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onRowClick",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onRowSelect",void 0),e=__decorate([n.Component({selector:"datatable-body",template:'\n    <div>\n      <datatable-progress></datatable-progress>\n      <datatable-scroll\n        [rowHeight]="state.options.rowHeight"\n        [count]="state.rowCount"\n        [scrollWidth]="state.columnGroupWidths.total">\n        <datatable-body-row\n          *ngFor="let row of rows; let i = index;"\n          [attr.tabindex]="i"\n          [class.active]="state.selected.includes(row)"\n          (click)="rowClicked($event, i, row)"\n          (keydown)="rowKeydown($event, i, row)"\n          [row]="row">\n        </datatable-body-row>\n        <div\n          class="empty"\n          *ngIf="!rows.length"\n          [innerHTML]="state.options.emptyMessage">\n        </div>\n      </datatable-scroll>\n    </div>\n  ',
directives:[i.ProgressBar,o.DataTableBodyRow,s.DataTableScroll],host:{"[style.width]":"state.innerWidth","[style.height]":"bodyHeight","[class.loading]":"showProgress"}}),__metadata("design:paramtypes",[r.StateService,"function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object])],e);var t}(),e("DataTableBody",d)}}}),System.register("components/footer/Pager",["@angular/core"],function(e,t){"use strict";var n,i;t&&t.id;return{setters:[function(e){n=e}],execute:function(){i=function(){function e(e){this.page=1,this.size=0,this.count=0,this.onPaged=new n.EventEmitter,e.nativeElement.classList.add("datatable-pager")}return Object.defineProperty(e.prototype,"totalPages",{get:function(){var e=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(e||0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},set:function(e){this._count=e,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){this._page=e,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),e.prototype.canPrevious=function(){return this.page>1},e.prototype.canNext=function(){return this.page<this.totalPages},e.prototype.prevPage=function(){this.page>1&&this.selectPage(--this.page)},e.prototype.nextPage=function(){this.selectPage(++this.page)},e.prototype.selectPage=function(e){e>0&&e<=this.totalPages&&(this.page=e,this.onPaged.emit(e))},e.prototype.calcPages=function(e){var t=[],n=1,i=this.totalPages,o=5,s=o<this.totalPages;e=e||this.page,s&&(n=(Math.ceil(e/o)-1)*o+1,i=Math.min(n+o-1,this.totalPages));for(var r=n;i>=r;r++)t.push({number:r,text:r});return t},__decorate([n.Input(),__metadata("design:type",Number)],e.prototype,"page",void 0),__decorate([n.Input(),__metadata("design:type",Number)],e.prototype,"size",void 0),__decorate([n.Input(),__metadata("design:type",Number)],e.prototype,"count",void 0),__decorate([n.Output(),__metadata("design:type","function"==typeof(t="undefined"!=typeof n.EventEmitter&&n.EventEmitter)&&t||Object)],e.prototype,"onPaged",void 0),e=__decorate([n.Component({selector:"datatable-pager",template:'\n    <ul class="pager">\n      <li [attr.disabled]="!canPrevious()">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(1)"\n          class="icon-prev">\n        </a>\n      </li>\n      <li [attr.disabled]="!canPrevious()">\n        <a\n          href="javascript:void(0)"\n          (click)="prevPage()"\n          class="icon-left">\n        </a>\n      </li>\n      <li\n        *ngFor="let pg of pages"\n        [class.active]="pg.number === page">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(pg.number)">\n          {{pg.text}}\n        </a>\n      </li>\n      <li [attr.disabled]="!canNext()">\n        <a\n          href="javascript:void(0)"\n          (click)="nextPage()"\n          class="icon-right">\n        </a>\n      </li>\n      <li [attr.disabled]="!canNext()">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(totalPages)"\n          class="icon-skip">\n        </a>\n      </li>\n    </ul>\n  '}),__metadata("design:paramtypes",["function"==typeof(i="undefined"!=typeof n.ElementRef&&n.ElementRef)&&i||Object])],e);var t,i}(),e("DataTablePager",i)}}}),System.register("components/footer/Footer",["@angular/core","services/State","components/footer/Pager"],function(e,t){"use strict";var n,i,o,s;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){o=e}],execute:function(){s=function(){function e(e,t){this.state=t,this.onPageChange=new n.EventEmitter,e.nativeElement.classList.add("datatable-footer")}return Object.defineProperty(e.prototype,"visible",{get:function(){return this.state.pageCount/this.state.pageSize>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curPage",{get:function(){return this.state.options.offset+1},enumerable:!0,configurable:!0}),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onPageChange",void 0),e=__decorate([n.Component({selector:"datatable-footer",template:'\n    <div\n      *ngIf="state.options.footerHeight"\n      [style.height]="state.options.footerHeight">\n      <div class="page-count">{{state.pageCount}} total</div>\n      <datatable-pager\n        [page]="curPage"\n        [size]="state.pageSize"\n        (onPaged)="onPageChange.emit($event)"\n        [count]="state.pageCount"\n        [hidden]="!visible">\n       </datatable-pager>\n     </div>\n  ',directives:[o.DataTablePager]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object,i.StateService])],e);var t}(),e("DataTableFooter",s)}}}),System.register("components/DataTable",["@angular/core","utils/debounce","services/State","directives/Visibility","utils/math","models/TableOptions","components/header/Header","components/body/Body","components/footer/Footer"],function(e,t){"use strict";var n,i,o,s,r,a,c,l,d,u;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){o=e},function(e){s=e},function(e){r=e},function(e){a=e},function(e){c=e},function(e){l=e},function(e){d=e}],execute:function(){u=function(){function e(e,t,i){this.state=t,this.onPageChange=new n.EventEmitter,this.onRowsUpdate=new n.EventEmitter,this.onRowClick=new n.EventEmitter,this.onSelectionChange=new n.EventEmitter,this.element=e.nativeElement,this.element.classList.add("datatable"),this.differ=i.find({}).create(null)}return e.prototype.ngOnInit=function(){var e=this,t=this,n=t.options,i=t.rows,o=t.selected;this.state.setOptions(n).setRows(i).setSelected(o),this.state.onRowsUpdate.subscribe(function(t){return e.onRowsUpdate.emit(t)})},e.prototype.ngDoCheck=function(){this.differ.diff(this.rows)&&this.state.setRows(this.rows)},e.prototype.adjustSizes=function(){var e=this.element.getBoundingClientRect(),t=e.height,n=e.width;this.state.innerWidth=Math.floor(n),this.options.scrollbarV&&(this.options.headerHeight&&(t=-this.options.headerHeight),this.options.footerHeight&&(t=-this.options.footerHeight),this.state.bodyHeight=t),this.adjustColumns()},e.prototype.resize=function(){this.adjustSizes()},e.prototype.adjustColumns=function(e){var t=this.state.innerWidth;this.options.scrollbarV&&(t=-this.state.scrollbarWidth),"force"===this.options.columnMode?r.forceFillColumnWidths(this.options.columns,t,e):"flex"===this.options.columnMode&&r.adjustColumnWidths(this.options.columns,t)},e.prototype.onPageChanged=function(e){this.state.setPage(e),this.onPageChange.emit(e)},__decorate([n.Input(),__metadata("design:type",a.TableOptions)],e.prototype,"options",void 0),__decorate([n.Input(),__metadata("design:type",Array)],e.prototype,"rows",void 0),__decorate([n.Input(),__metadata("design:type",Array)],e.prototype,"selected",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onPageChange",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onRowsUpdate",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onRowClick",void 0),__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"onSelectionChange",void 0),__decorate([i.debounceable(10),n.HostListener("window:resize"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"resize",null),e=__decorate([n.Component({selector:"datatable",template:'\n  	<div\n      visibility-observer\n      (onVisibilityChange)="adjustSizes()">\n      <datatable-header></datatable-header>\n      <datatable-body\n        (onRowClick)="onRowClick.emit($event)"\n        (onRowSelect)="state.setSelected($event)">\n      </datatable-body>\n      <datatable-footer\n        (onPageChange)="onPageChanged($event)">\n      </datatable-footer>\n    </div>\n  ',directives:[c.DataTableHeader,l.DataTableBody,d.DataTableFooter,s.Visibility],host:{"[class.fixed-header]":'options.headerHeight !== "auto"',"[class.fixed-row]":'options.rowHeight !== "auto"',"[class.scroll-vertical]":"options.scrollbarV","[class.scroll-horz]":"options.scrollbarH","[class.selectable]":"options.selectable","[class.checkboxable]":"options.checkboxable"},providers:[o.StateService]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.ElementRef&&n.ElementRef)&&t||Object,o.StateService,"function"==typeof(u="undefined"!=typeof n.KeyValueDiffers&&n.KeyValueDiffers)&&u||Object])],e);var t,u}(),e("DataTable",u)}}}),System.register("main",["components/DataTable","models/TableOptions","models/TableColumn","models/SelectionType","models/ColumnMode","models/SortDirection","models/SortType"],function(e,t){"use strict";var n,i;t&&t.id;return{setters:[function(e){n=e},function(t){e({TableOptions:t.TableOptions})},function(t){e({TableColumn:t.TableColumn})},function(t){e({SelectionType:t.SelectionType})},function(t){e({ColumnMode:t.ColumnMode})},function(t){e({SortDirection:t.SortDirection})},function(t){e({SortType:t.SortType})}],execute:function(){e("A2DT_DIRECTIVES",i=[n.DataTable])}}});
//# sourceMappingURL=release/angular2-data-table.js.map